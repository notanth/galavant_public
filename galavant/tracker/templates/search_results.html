

{% load static %}

<head><link rel="stylesheet" href="{% static 'base.css' %}" ></head>

{% block title %}Location Details - Search {% endblock %}

{% block content %}

<table>
    <tr>
        <th>Latitude</th>
        <th>Longitude</th>
        <th>City</th>
        <th>Country</th>
        <th>Place Name</th>
        <th>Place ID</th>
    </tr>
    <tr>
        <td>{{ latitude }}</td>
        <td>{{ longitude }}</td>
        <td>{{ city }}</td>
        <td>{{ country }}</td>
        <td>{{ place_name }}</td>
        <td>{{ place_id }}</td>
    </tr>
</table>
<div id="map" style="width: 500px; height: 300px;"></div>
    <script>
        function initMap() {
            var map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: {{ latitude }}, lng: {{ longitude }}},
                zoom: 10
            });
            var marker = new google.maps.Marker({
                position: {lat: {{ latitude }}, lng: {{ longitude }}},
                map: map
            });
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key={{ api_key }}&callback=initMap"></script>
    
<form hx-post="/save_location/" hx-target="#search-results">
    {% csrf_token %}
    <input type="hidden" name="place_id" value="{{ place_id }}">
    <input type="hidden" name="place_name" value="{{ place_name }}">
    <input type="hidden" name="lat" value="{{ latitude }}">
    <input type="hidden" name="lng" value="{{ longitude }}">
    <button type="submit">Save Location</button>
</form>

{% endblock %}